# 資料庫配置
# 使用環境變數，如果未設置則使用預設值（本地開發）
# CA 憑證：將 ca.pem 放在 src/main/resources/ca.pem
# 如果設置了 DB_CA_CERT_PATH 環境變數，則使用該路徑（可以是絕對路徑或相對路徑）
# 如果未設置，則使用相對路徑 src/main/resources/ca.pem（相對於工作目錄）
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:ChatPTT}?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Taipei&useSSL=true&requireSSL=true&verifyServerCertificate=true&trustCertificateKeyStoreUrl=file:${DB_CA_CERT_PATH:src/main/resources/ca.pem}&trustCertificateKeyStoreType=PEM
spring.datasource.username=${DB_USERNAME:User}
spring.datasource.password=${DB_PASSWORD:20010307}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# 服務器端口
# Railway 會自動設置 PORT 環境變數，如果未設置則使用預設值 8080
server.port=${PORT:8080}

# 日誌配置
logging.level.chatptt=DEBUG

# 資料庫初始化配置
# 啟動時自動執行 schema.sql 創建表結構（如果表不存在）
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.continue-on-error=true


